<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <table>
        <tr>
            <td>!</td><td>非</td>
        </tr>
        <tr>
            <td>&#39;</td><td>与</td>
        </tr>
    </table>
    <script>
        var HtmlUtil = {
            //1.用浏览器内置转换器实现html转码
            htmlEncode:function(html){
                var temp = document.createElement("div");
                (temp.textContent != undefined) ? (temp.textContent = html ) : (temp.innerText = html );
                console.log(temp.textContent);
                var output = temp.innerHTML;
                temp = null;
                return output;
            },
            //2.用浏览器内置转换器实现html解码
            htmlDecode:function(text){
               var temp =  document.createElement("div");
               temp.innerHTML = text;
               var output = temp.innerText || temp.textContent;
               temp = null;
               return output;
            },
            //3.用正则表达是实现html转码
            htmlEncodeByRegExp:function(str){
                var s = "";
                s=str.replace(/&/g,"&amp;");
                s=s.replace(/</g,"&lt;");
                s=s.replace(/>/g,"&gt;");
                s=s.replace(/ /g,"&nbsp;");
                s=s.replace(/\'/g,"&#39;");
                s = s.replace(/\"/g,"&quot;");
                return s;
            },
            //4.用正则表达式实现html解码
            htmlDecodeByRegExp:function(str){
                var s = "";
                s = str.replace(/&amp;/g,"&");
                s=s.replace(/&lt;/g,"<");
                s=s.replace(/&gt;/g,">");
                s=s.replace(/&nbsp;/g," ");
                s=s.replace(/&#39;/g,"\'");
                s=s.replace(/&quot;/g,"\"");
                return s;
            }
            
        }
        var html = "<br>aaaaaa<p>bbbb</p>";
        var encodeHtml = HtmlUtil.htmlEncode(html);
        alert("encodeHtml：" + encodeHtml);
        var decodeHtml = HtmlUtil.htmlDecode(encodeHtml);
        alert("decodeHtml：" + decodeHtml);
    </script>
</body>
</html>